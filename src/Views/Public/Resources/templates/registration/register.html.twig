{% extends 'base.html.twig' %}

{% block title %}Регистрация{% endblock %}

{% block body %}
        <!-- breadcrumb area start -->
        <div class="breadcrumb-area">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <div class="breadcrumb-wrap">
                            <nav aria-label="breadcrumb">
                                <ul class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="/"><i class="fa fa-home"></i></a></li>
                                    <li class="breadcrumb-item active" aria-current="page">Регистрация</li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- breadcrumb area end -->

        <!-- login register wrapper start -->
        <div class="login-register-wrapper section-padding">
            <div class="container">
                <div class="member-area-from-wrap">
                    <div class="row">
                        <!-- Register Content Start -->
                        <div class="col-lg-6">
                            <div class="login-reg-form-wrap sign-up-form">
                                <h5>Регистрация</h5>

                                {% for message in app.flashes('info') %}
                                    <div class="single-input-item alert alert-info">
                                        {{ message }}
                                    </div>
                                {% endfor %}

                                {% for message in app.flashes('success') %}
                                    <div class="single-input-item alert alert-success">
                                        {{ message }}
                                    </div>
                                {% endfor %}

                                {% for message in app.flashes('verify_email_error') %}
                                    <div class="text-danger mt-2 alert alert-danger">
                                        {{ message }}
                                    </div>
                                {% endfor %}

                                {# If there are any errors on the form, display them #}
                                {% set formErrors = registrationForm.vars.errors.form.getErrors(true) %}
                                {% if formErrors|length %}
                                    <div class="text-danger mt-2 alert alert-danger">
                                        {% for error in formErrors %}
                                            {{ error.message }}<br>
                                        {% endfor %}
                                    </div>
                                {% endif %}

                                {{ form_start(registrationForm) }}

                                    <div class="row">
                                        <div class="col-lg-6">
                                            <div class="single-input-item">
                                                {{ form_row(registrationForm.firstName) }}
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="single-input-item">
                                                {{ form_row(registrationForm.lastName) }}
                                            </div>
                                        </div>
                                    </div>


                                    <div class="single-input-item">
                                        {{ form_widget(registrationForm.email) }}
                                    </div>

                                    <div class="row">
                                        <div class="col-lg-6">
                                            <div class="single-input-item">
                                                {{ form_row(registrationForm.plainPassword.first) }}
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="single-input-item">
                                                {{ form_row(registrationForm.plainPassword.second) }}
                                            </div>
                                        </div>
                                    </div>

                                    <div class="single-input-item">
                                        <div class="login-reg-form-meta d-flex align-items-center justify-content-between">
                                            <button class="btn btn-sqr">Зарегистрироваться</button>
                                            <a href="{{ path('app_login')}}" class="forget-pwd">Войти</a>
                                        </div>
                                    </div>
                                {{ form_end(registrationForm) }}
                            </div>
                        </div>
                        <!-- Register Content End -->
                    </div>
                </div>
            </div>
        </div>
        <!-- login register wrapper end -->

{% endblock %}
